import{d as v,x as w,r as f,a as m,b as x,e,t as o,u as c,f as k,w as M,l as b,j as N,z as S,k as _,v as g,C,T,n as V,g as $,h as q}from"./app.eed0d982.js";import{_ as B}from"./InputPhone.vue_vue_type_script_setup_true_lang.dbbdd790.js";import{g as j}from"./helpers.ec2122b1.js";const L=["onSubmit"],D={class:"text-gray-900 font-medium text mb-2"},U={class:"text-red-600"},I={class:"text-gray-600 inline-block text-xs mb-2"},P={class:"mt-8 flex justify-between"},z=e("i",{class:"fal fa-sign-in mr-4"},null,-1),A={class:"bg-gray-200 px-2 py-1 rounded-sm shadow active:bg-gray-100"},E=e("i",{class:"fal fa-long-arrow-right ml-4 relative top-px"},null,-1),H=v({__name:"phaseOne",props:["activeNumber"],emits:["next"],setup(d,{emit:u}){const t=w({error:null,loader:!1}),l=f();function i(){const s=l.value.getValues();s.isValid?(t.error=null,t.loader=!0,axios.post("/sms/sendmessage",{phone:s.fullNumber}).then(a=>{t.error=null,t.loader=!1,u("next",1,s)},a=>{const n=a.response.data.errors;"phone"in n&&(t.error=n.phone[0]),t.loader=!1}),t.loader=!1):(t.error="Telefon raqami to'liq kiritilmagan",t.loader=!1)}return(s,a)=>{const n=S("router-link");return m(),x("form",{onSubmit:N(i,["prevent"])},[e("h3",D,o(s.$t("inputphone")),1),e("p",U,o(c(t).error),1),e("div",null,[e("label",I,o(s.$t("phone")),1),k(B,{activeNumber:d.activeNumber,ref_key:"phoneInput",ref:l},null,8,["activeNumber"]),e("div",P,[k(n,{to:"/login",class:"bg-gray-200 px-2 py-1 rounded-sm shadow active:bg-gray-100"},{default:M(()=>[z,b(" "+o(s.$t("enter")),1)]),_:1}),e("button",A,[b(o(s.$t("next"))+" ",1),E])])])],40,L)}}}),O=["onSubmit"],R={class:"text-gray-900 font-medium mb-2"},F={class:"text-sm mb-2 text-gray-500"},G={class:"text-xl"},J={class:"mt-2"},K={class:"text-red-600"},Q={class:"text-blue-600"},W={class:"flex justify-between"},X=e("i",{class:"fal fa-long-arrow-left mr-4 relative top-px"},null,-1),Y={class:"bg-gray-200 px-2 py-1 rounded-sm shadow active:bg-gray-100"},Z=e("i",{class:"fal fa-long-arrow-right ml-4 relative top-px"},null,-1),ee=v({__name:"phaseTwo",props:["activeNumber"],emits:["next","back"],setup(d,{emit:u}){const{activeNumber:t}=d,l=f(null),i=f(!1),s=f("");async function a(){i.value=!0;const{data:r}=await axios.post("/sms/confirm",{phone:t.fullNumber,smskey:s.value});r?(u("next",2,t),i.value=!1):l.value="Mahfiy kod to'g'ri emas"}function n(r,y){var h=r.toString(),y=h.substr(0,y);s.value=y}return(r,p)=>(m(),x("form",{onSubmit:N(a,["prevent"])},[e("h3",R,o(r.$t("confirmPhone")),1),e("div",F,[e("span",G,"+"+o(d.activeNumber.fullNumber),1),e("p",J,o(r.$t("pleaseHelpme")),1),e("p",K,o(l.value),1)]),e("div",null,[e("label",Q,o(r.$t("secretcode")),1),_(e("input",{type:"number",onInput:p[0]||(p[0]=h=>n(s.value,6)),placeholder:"------",minlength:"6","onUpdate:modelValue":p[1]||(p[1]=h=>s.value=h),autocomplete:"off",class:"holy-input mb-4 text-center text-blue-700",required:""},null,544),[[g,s.value]])]),e("div",W,[e("button",{type:"button",onClick:p[2]||(p[2]=h=>r.$emit("back",0)),class:"bg-gray-200 px-2 py-1 rounded-sm shadow active:bg-gray-100"},[X,b(" "+o(r.$t("back")),1)]),e("button",Y,[b(o(r.$t("next"))+" ",1),Z])])],40,O))}}),te=["onSubmit"],se={class:"text-red-600"},oe={class:"text-gray-600 text-xs"},ae={class:"text-gray-600 text-xs"},ne={class:"text-gray-600 text-xs"},re=e("div",{class:"text-right mb-4 text-xs mt-2"},null,-1),le={class:"flex justify-between"},ie=e("i",{class:"fal fa-long-arrow-left mr-4 relative top-px"},null,-1),ue={class:"bg-button text-center shadow-sm rounded text-white px-4 py-1.5 ml-5"},ce=e("i",{class:"fal fa-check ml-2"},null,-1),de=v({__name:"phaseThree",props:["activeNumber"],setup(d){const{activeNumber:u}=d,t=C(),l=w({errorMessage:"",phaseLoader:!1}),i=w({name:"",password:"",password_confirmation:"",phone:u.fullNumber,device:j()});async function s(){l.phaseLoader=!0,t.register(i).then(a=>{l.errorMessage="",l.phaseLoader=!1},a=>{const n=a.response.data.errors;l.errorMessage=n.password[0],l.phaseLoader=!1})}return(a,n)=>(m(),x("form",{onSubmit:N(s,["prevent"])},[e("p",se,o(l.errorMessage),1),e("div",null,[e("label",oe,o(a.$t("shopName")),1),_(e("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>i.name=r),class:"holy-input",required:""},null,512),[[g,i.name]])]),e("div",null,[e("label",ae,o(a.$t("password")),1),_(e("input",{type:"password",autocomplete:"off",minlength:"6","onUpdate:modelValue":n[1]||(n[1]=r=>i.password=r),class:"holy-input",required:""},null,512),[[g,i.password]])]),e("div",null,[e("label",ne,o(a.$t("confirmPassword")),1),_(e("input",{type:"password",autocomplete:"off",minlength:"6","onUpdate:modelValue":n[2]||(n[2]=r=>i.password_confirmation=r),class:"holy-input",required:""},null,512),[[g,i.password_confirmation]])]),re,e("div",le,[e("button",{type:"button",onClick:n[3]||(n[3]=r=>a.$emit("back",0)),class:"bg-gray-200 border border-gray-200 text-center shadow-sm rounded text-gray-800 px-4 py-1.5"},[ie,b(" "+o(a.$t("back")),1)]),e("button",ue,[b(o(a.$t("confirm"))+" ",1),ce])])],40,te))}}),me={class:"bg-inherit shadow-none flex-center"},pe={class:"w-96 p-4 bg-white relative"},fe={class:"text-gray-900 text-2xl mb-4 text-center"},be={class:"mt-5 flex justify-center"},he=e("span",{class:"w-2 h-2 mx-2 rounded-full bg-pink-500"},null,-1),xe=v({__name:"Register",setup(d){const u=f(null),t=f(0);function l(s){t.value=s}function i(s,a){u.value=a,t.value=s}return(s,a)=>(m(),x("aside",me,[e("section",pe,[e("h3",fe,o(s.$t("register")),1),k(T,{name:"fade",mode:"out-in"},{default:M(()=>[c(t)==0?(m(),$(H,{key:0,activeNumber:c(u),onNext:i},null,8,["activeNumber"])):c(t)==1?(m(),$(ee,{key:1,activeNumber:c(u),onNext:i,onBack:l},null,8,["activeNumber"])):c(t)==2?(m(),$(de,{key:2,activeNumber:c(u),onBack:l},null,8,["activeNumber"])):q("",!0)]),_:1}),e("div",be,[he,e("span",{class:V([{"bg-pink-500 border-none":c(t)==1||c(t)==2},"w-2 h-2 mx-2 rounded-full border"])},null,2),e("span",{class:V([{"bg-pink-500 border-none":c(t)==2},"w-2 h-2 mx-2 rounded-full border"])},null,2)])])]))}});export{xe as default};
