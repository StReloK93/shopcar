import{d as v,r as _,c as $,a as i,b as o,e as n,n as x,u as k,k as y,v as p,h as b,j as w,I as z,F as g,i as N,J as V,l as j,g as B}from"./app.eed0d982.js";const E={class:"my-2"},O=["disabled"],U={key:0,class:"ml-4"},F=n("i",{class:"fa-regular fa-pen-nib"},null,-1),K=[F],D={key:1,type:"submit",class:"mini-button h-full mr-4"},M=n("i",{class:"fas fa-save"},null,-1),T=[M],I=n("i",{class:"fa-light fa-rectangle-history-circle-plus"},null,-1),J=[I],L=n("i",{class:"far fa-times"},null,-1),q=[L],A={class:"flex items-center flex-wrap w-full ml-3 text-gray-500 my-3"},G=["onKeydown","onUpdate:modelValue","disabled"],H={key:0},P=["onClick"],Q=n("i",{class:"fas fa-pen-nib text-sm"},null,-1),R=[Q],W=["onClick"],X=n("i",{class:"fas fa-save"},null,-1),Y=[X],Z=["onClick"],ee=n("i",{class:"far fa-times relative left-px"},null,-1),te=[ee],se=["onClick"],ne={key:0,class:"fal fa-angle-left"},ae={key:1,class:"fal fa-angle-right"},le=v({__name:"Sizes",props:{SizeNames:Object},emits:["deleted","updated"],setup(s,{emit:d}){const{SizeNames:u}=s;u.sizes.forEach(t=>{t.disabled=!0,t.opened=!1,t.oldname=t.name});const c=_(!1),h=$(()=>{var t;return(t=u.sizes)==null?void 0:t.length});function a(){u.disabled!=!1&&(c.value=!c.value)}function r(t){axios.post("/sizes",t).then(l=>{t.sizes.push(l.data),c.value=!0})}function f(t){if(t.name==t.oldname)return t.disabled=!0;axios.put(`/sizes/${t.id}`,t).then(()=>{t.disabled=!0})}function C(t){axios.delete(`/sizes/${t.id}`).then(()=>{u.sizes=u.sizes.filter(l=>l.id!=t.id)})}function S(t,l){if(l.opened)return l.opened=!1;t.forEach(e=>{e.id==l.id?e.opened=!0:e.opened=!1})}return(t,l)=>(i(),o("section",E,[n("form",{class:"flex",onSubmit:l[4]||(l[4]=w(e=>d("updated",s.SizeNames),["prevent"]))},[n("div",{onClick:a,class:x([{"cursor-pointer":k(h)&&s.SizeNames.disabled},"select-none flex items-center justify-between border-b bg-gray-50 shadow-sm flex-grow px-2 py-0.5"])},[y(n("input",{class:x([{"!border-pink-600 shadow-inner":s.SizeNames.disabled==!1,"cursor-pointer":k(h)&&s.SizeNames.disabled},"border-b border-transparent outline-none py-0.5 px-2 text-gray-600 disabled:text-gray-500"]),"onUpdate:modelValue":l[0]||(l[0]=e=>s.SizeNames.name=e),disabled:s.SizeNames.disabled},null,10,O),[[p,s.SizeNames.name]]),n("i",{class:x([{"rotate-180":c.value,"text-gray-300":s.SizeNames.disabled==!1},"mx-2 far fa-angle-down transition-all text-pink-500"])},null,2)],2),s.SizeNames.shop_id!=null?(i(),o("main",U,[s.SizeNames.disabled?(i(),o("button",{key:0,onClick:l[1]||(l[1]=e=>s.SizeNames.disabled=!s.SizeNames.disabled),type:"button",class:"mini-button mr-4 h-full text-cyan-500 border-cyan-500"},K)):(i(),o("button",D,T)),s.SizeNames.shop_id!=null?(i(),o("button",{key:2,onClick:l[2]||(l[2]=e=>r(s.SizeNames)),class:"mini-button h-full mr-4 text-pink-500 border-pink-500"},J)):b("",!0),n("button",{onClick:l[3]||(l[3]=e=>d("deleted",s.SizeNames)),type:"button",class:"mini-button h-full"},q)])):b("",!0)],32),y(n("main",A,[(i(!0),o(g,null,N(s.SizeNames.sizes,e=>(i(),o("div",{key:e.id,class:"bg-gray-100 border-b border-pink-500 mb-2 text-gray-600 mr-3 flex items-center pl-1.5 pr-0"},[y(n("input",{onKeydown:V(m=>f(e),["enter"]),class:x([{"!border-teal-600 shadow-inner":e.disabled==!1,"cursor-pointer":e.disabled},"border-b border-transparent outline-none py-0.5 px-1 w-12"]),"onUpdate:modelValue":m=>e.name=m,disabled:e.disabled},null,42,G),[[p,e.name]]),s.SizeNames.shop_id!=null&&e.opened?(i(),o("aside",H,[e.disabled?(i(),o("button",{key:0,onClick:m=>e.disabled=!e.disabled,class:"text-pink-500 px-1.5 rounded-sm"},R,8,P)):(i(),o("button",{key:1,onClick:m=>f(e),class:"text-pink-500 px-2 rounded-sm"},Y,8,W)),n("button",{onClick:m=>C(e),class:"text-red-500 px-2 rounded-sm"},te,8,Z)])):b("",!0),s.SizeNames.shop_id!=null?(i(),o("button",{key:1,onClick:m=>S(s.SizeNames.sizes,e),class:"px-2 hover:bg-gray-200"},[e.opened?(i(),o("i",ne)):(i(),o("i",ae))],8,se)):b("",!0)]))),128))],512),[[z,c.value]])]))}}),ie=n("h3",{class:"text-gray-600 flex items-center"},[n("i",{class:"fa-light fa-cube text-pink-500 mr-3 text-xl"}),j(" O'lchamlar ")],-1),oe=n("i",{class:"fa-light fa-rectangle-history-circle-plus"},null,-1),de=[oe],re={key:0},ce=v({__name:"SizeNames",setup(s){const d=_([]);axios.get("sizenames").then(a=>{a.data.forEach(r=>{r.disabled=!0,r.oldname=r.name}),d.value=a.data});function u(){axios.post("sizenames").then(a=>d.value.push(a.data))}function c(a){if(a.name==a.oldname)return a.disabled=!0;axios.put(`/sizenames/${a.id}`,{name:a.name}).then(()=>{a.disabled=!0,a.oldname=a.name})}function h(a){axios.delete(`/sizenames/${a.id}`).then(()=>{d.value=d.value.filter(r=>r.id!=a.id)})}return(a,r)=>(i(),o("section",null,[n("div",{class:"mb-4 flex justify-between items-center"},[ie,n("button",{onClick:u,class:"mini-button"},de)]),d.value.length?(i(),o("main",re,[(i(!0),o(g,null,N(d.value,f=>(i(),B(le,{key:f.id,SizeNames:f,onUpdated:c,onDeleted:h},null,8,["SizeNames"]))),128))])):b("",!0)]))}});export{ce as default};
