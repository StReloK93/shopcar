import{d as v,r as _,a as S,b as i,e as o,f as n,n as h,u as k,l as x,v as p,i as c,k as w,K as z,F as g,j as N,L as V,m as j,h as B}from"./app.c7992278.js";const K={class:"my-2"},O=["disabled"],E={key:0,class:"ml-4"},F=n("i",{class:"fa-regular fa-pen-nib"},null,-1),U=[F],D={key:1,type:"submit",class:"mini-button h-full mr-4"},L=n("i",{class:"fas fa-save"},null,-1),M=[L],T=n("i",{class:"fa-light fa-rectangle-history-circle-plus"},null,-1),q=[T],A=n("i",{class:"far fa-times"},null,-1),G=[A],H={class:"flex items-center flex-wrap w-full ml-3 text-gray-500 my-3"},I=["onKeydown","onUpdate:modelValue","disabled"],J={key:0},P=["onClick"],Q=n("i",{class:"fas fa-pen-nib text-sm"},null,-1),R=[Q],W=["onClick"],X=n("i",{class:"fas fa-save"},null,-1),Y=[X],Z=["onClick"],ee=n("i",{class:"far fa-times relative left-px"},null,-1),te=[ee],se=["onClick"],ne={key:0,class:"fal fa-angle-left"},ae={key:1,class:"fal fa-angle-right"},le=v({__name:"Sizes",props:{SizeNames:Object},emits:["deleted"],setup(s){const{SizeNames:l}=s;console.log(l),l.disabled=!0,l.oldname=l.name,l.sizes.forEach(e=>{e.disabled=!0,e.opened=!1,e.oldname=e.name});const r=_(!1),m=S(()=>l.sizes&&l.sizes.length);function d(){l.disabled!=!1&&(r.value=!r.value)}function f(e){if(e.name==e.oldname)return e.disabled=!0;axios.put(`/sizenames/${e.id}`,{name:e.name}).then(()=>{e.disabled=!0,e.oldname=e.name})}function b(e){axios.post("/sizes",e).then(a=>{e.sizes.push(a.data),r.value=!0})}function y(e){if(e.name==e.oldname)return e.disabled=!0;axios.put(`/sizes/${e.id}`,e).then(()=>{e.disabled=!0})}function $(e){axios.delete(`/sizes/${e.id}`).then(()=>{l.sizes=l.sizes.filter(a=>a.id!=e.id)})}function C(e,a){if(a.opened)return a.opened=!1;e.forEach(t=>{t.id==a.id?t.opened=!0:t.opened=!1})}return(e,a)=>(i(),o("section",K,[n("form",{class:"flex",onSubmit:a[4]||(a[4]=w(t=>f(s.SizeNames),["prevent"]))},[n("div",{onClick:d,class:h([{"cursor-pointer":k(m)&&s.SizeNames.disabled},"select-none flex items-center justify-between border-b bg-gray-50 shadow-sm flex-grow px-2 py-0.5"])},[x(n("input",{class:h([{"!border-pink-600 shadow-inner":s.SizeNames.disabled==!1,"cursor-pointer":k(m)&&s.SizeNames.disabled},"border-b border-transparent outline-none py-0.5 px-2 text-gray-600 disabled:text-gray-500"]),"onUpdate:modelValue":a[0]||(a[0]=t=>s.SizeNames.name=t),disabled:s.SizeNames.disabled},null,10,O),[[p,s.SizeNames.name]]),n("i",{class:h([{"rotate-180":r.value,"text-gray-300":s.SizeNames.disabled==!1},"mx-2 far fa-angle-down transition-all text-pink-500"])},null,2)],2),s.SizeNames.shop_id!=null?(i(),o("main",E,[s.SizeNames.disabled?(i(),o("button",{key:0,onClick:a[1]||(a[1]=t=>s.SizeNames.disabled=!s.SizeNames.disabled),type:"button",class:"mini-button mr-4 h-full text-cyan-500 border-cyan-500"},U)):(i(),o("button",D,M)),s.SizeNames.shop_id!=null?(i(),o("button",{key:2,onClick:a[2]||(a[2]=t=>b(s.SizeNames)),class:"mini-button h-full mr-4 text-pink-500 border-pink-500"},q)):c("",!0),n("button",{onClick:a[3]||(a[3]=t=>e.$emit("deleted",s.SizeNames)),type:"button",class:"mini-button h-full"},G)])):c("",!0)],32),x(n("main",H,[(i(!0),o(g,null,N(s.SizeNames.sizes,t=>(i(),o("div",{key:t.id,class:"bg-gray-100 border-b border-pink-500 mb-2 text-gray-600 mr-3 flex items-center pl-1.5 pr-0"},[x(n("input",{onKeydown:V(u=>y(t),["enter"]),class:h([{"!border-teal-600 shadow-inner":t.disabled==!1,"cursor-pointer":t.disabled},"border-b border-transparent outline-none py-0.5 px-1 w-12"]),"onUpdate:modelValue":u=>t.name=u,disabled:t.disabled},null,42,I),[[p,t.name]]),s.SizeNames.shop_id!=null&&t.opened?(i(),o("aside",J,[t.disabled?(i(),o("button",{key:0,onClick:u=>t.disabled=!t.disabled,class:"text-pink-500 px-1.5 rounded-sm"},R,8,P)):(i(),o("button",{key:1,onClick:u=>y(t),class:"text-pink-500 px-2 rounded-sm"},Y,8,W)),n("button",{onClick:u=>$(t),class:"text-red-500 px-2 rounded-sm"},te,8,Z)])):c("",!0),s.SizeNames.shop_id!=null?(i(),o("button",{key:1,onClick:u=>C(s.SizeNames.sizes,t),class:"px-2 hover:bg-gray-200"},[t.opened?(i(),o("i",ne)):(i(),o("i",ae))],8,se)):c("",!0)]))),128))],512),[[z,r.value]])]))}}),ie=n("h3",{class:"text-gray-600 flex items-center"},[n("i",{class:"fa-light fa-cube text-pink-500 mr-3 text-xl"}),j(" O'lchamlar ")],-1),oe=n("i",{class:"fa-light fa-rectangle-history-circle-plus"},null,-1),de=[oe],re={key:0},ce=v({__name:"SizeNames",setup(s){const l=_([]);axios.get("sizenames").then(d=>l.value=d.data);function r(){axios.post("sizenames").then(d=>l.value.push(d.data))}function m(d){axios.delete(`/sizenames/${d.id}`).then(()=>{l.value=l.value.filter(f=>f.id!=d.id)})}return(d,f)=>(i(),o("section",null,[n("div",{class:"mb-4 flex justify-between items-center"},[ie,n("button",{onClick:r,class:"mini-button"},de)]),l.value.length?(i(),o("main",re,[(i(!0),o(g,null,N(l.value,b=>(i(),B(le,{key:b.id,SizeNames:b,onDeleted:m},null,8,["SizeNames"]))),128))])):c("",!0)]))}});export{ce as default};
