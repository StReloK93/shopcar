import{d as p,r as _,a as C,b as i,e as d,f as n,n as h,u as v,l as x,v as g,i as c,k,I as z,F as N,j as S,L as V,m as B,h as K}from"./app.f554c489.js";const j={class:"my-2"},E=["disabled"],F={key:0,class:"ml-2"},O=n("i",{class:"fas fa-pen-nib text-sm"},null,-1),U=[O],D={key:1,type:"submit",class:"text-teal-500 bg-gray-100 px-2 py-0.5 rounded-sm"},L=n("i",{class:"fas fa-save"},null,-1),M=[L],T=n("i",{class:"far fa-times"},null,-1),I=[T],q={class:"flex items-center"},A=["onKeydown","onUpdate:modelValue","disabled"],G={key:0},H=["onClick"],J=n("i",{class:"fas fa-pen-nib text-sm"},null,-1),P=[J],Q=["onClick"],R=n("i",{class:"fas fa-save"},null,-1),W=[R],X=["onClick"],Y=n("i",{class:"far fa-times relative left-px"},null,-1),Z=[Y],ee=["onClick"],te={key:0,class:"fal fa-angle-left"},se={key:1,class:"fal fa-angle-right"},ae=n("i",{class:"far fa-plus px-0.5 text-teal-600"},null,-1),ne=[ae],ie=p({__name:"Sizes",props:{SizeNames:Object},emits:["deleted"],setup(s){const{SizeNames:l}=s;l.disabled=!0,l.oldname=l.name,l.sizes.forEach(e=>{e.disabled=!0,e.opened=!1,e.oldname=e.name});const r=_(!1),m=C(()=>l.sizes&&l.sizes.length);function o(){l.disabled!=!1&&(r.value=!r.value)}function b(e){if(e.name==e.oldname)return e.disabled=!0;axios.put(`/sizenames/${e.id}`,{name:e.name}).then(()=>{e.disabled=!0,e.oldname=e.name})}function f(e){axios.post("/sizes",e).then(a=>{e.sizes.push(a.data),r.value=!0})}function y(e){if(e.name==e.oldname)return e.disabled=!0;axios.put(`/sizes/${e.id}`,e).then(()=>{e.disabled=!0})}function w(e){axios.delete(`/sizes/${e.id}`).then(()=>{l.sizes=l.sizes.filter(a=>a.id!=e.id)})}function $(e,a){if(a.opened)return a.opened=!1;e.forEach(t=>{t.id==a.id?t.opened=!0:t.opened=!1})}return(e,a)=>(i(),d("section",j,[n("form",{class:"flex items-center my-2",onSubmit:a[3]||(a[3]=k(t=>b(s.SizeNames),["prevent"]))},[n("div",{onClick:o,class:h([{"cursor-pointer":v(m)&&s.SizeNames.disabled},"flex items-center justify-between bg-gray-100 w-72"])},[x(n("input",{class:h([{"!border-teal-600 shadow-inner":s.SizeNames.disabled==!1,"cursor-pointer":v(m)&&s.SizeNames.disabled},"border-b border-transparent outline-none py-0.5 px-2 w-32"]),"onUpdate:modelValue":a[0]||(a[0]=t=>s.SizeNames.name=t),disabled:s.SizeNames.disabled},null,10,E),[[g,s.SizeNames.name]]),n("i",{class:h([{"rotate-180":r.value,"text-gray-300":s.SizeNames.disabled==!1},"mx-2 far fa-angle-down"])},null,2)],2),s.SizeNames.user_id!=null?(i(),d("main",F,[s.SizeNames.disabled?(i(),d("button",{key:0,onClick:a[1]||(a[1]=t=>s.SizeNames.disabled=!s.SizeNames.disabled),type:"button",class:"text-teal-500 bg-gray-100 px-2 py-0.5 rounded-sm"},U)):(i(),d("button",D,M)),n("button",{onClick:a[2]||(a[2]=t=>e.$emit("deleted",s.SizeNames)),type:"button",class:"text-red-500 bg-gray-100 px-2 py-0.5 ml-2 rounded-sm"},I)])):c("",!0)],32),x(n("main",q,[(i(!0),d(N,null,S(s.SizeNames.sizes,t=>(i(),d("div",{key:t.id,class:"pl-1 py-0.5 bg-gray-200 mr-1.5 rounded shadow-sm border-gray-300 border flex items-center uppercase"},[x(n("input",{onKeydown:V(u=>y(t),["enter"]),class:h([{"!border-teal-600 shadow-inner":t.disabled==!1,"cursor-pointer":t.disabled},"border-b border-transparent outline-none py-0.5 px-1 w-10"]),"onUpdate:modelValue":u=>t.name=u,disabled:t.disabled},null,42,A),[[g,t.name]]),t.opened&&s.SizeNames.user_id!=null?(i(),d("aside",G,[t.disabled?(i(),d("button",{key:0,onClick:u=>t.disabled=!t.disabled,class:"text-teal-500 px-2 rounded-sm"},P,8,H)):(i(),d("button",{key:1,onClick:u=>y(t),class:"text-teal-500 px-2 rounded-sm"},W,8,Q)),n("button",{onClick:u=>w(t),class:"text-red-500 px-2 rounded-sm"},Z,8,X)])):c("",!0),s.SizeNames.user_id!=null?(i(),d("button",{key:1,onClick:u=>$(s.SizeNames.sizes,t),class:"px-3"},[t.opened?(i(),d("i",te)):(i(),d("i",se))],8,ee)):c("",!0)]))),128)),s.SizeNames.user_id!=null?(i(),d("button",{key:0,onClick:a[4]||(a[4]=t=>f(s.SizeNames)),class:"px-2 py-1 bg-gray-200 border-gray-300 border shadow rounded-sm active:bg-gray-300 active:shadow-sm"},ne)):c("",!0)],512),[[z,r.value]])]))}}),le={key:0},de=["onSubmit"],oe=n("button",{class:"px-4 py-1.5 bg-pink-500 text-white shadow rounded-sm active:bg-gray-300 active:shadow-sm flex items-center"},[B(" Kiritish "),n("i",{class:"ml-4 fa-light fa-ruler-triangle"})],-1),re=[oe],ce=p({__name:"SizeNames",setup(s){const l=_([]);axios.get("sizenames").then(o=>l.value=o.data);function r(){axios.post("sizenames").then(o=>l.value.push(o.data))}function m(o){axios.delete(`/sizenames/${o.id}`).then(()=>{l.value=l.value.filter(b=>b.id!=o.id)})}return(o,b)=>(i(),d("section",null,[l.value.length?(i(),d("main",le,[(i(!0),d(N,null,S(l.value,f=>(i(),K(ie,{key:f.id,SizeNames:f,onDeleted:m},null,8,["SizeNames"]))),128))])):c("",!0),n("form",{onSubmit:k(r,["prevent"])},re,40,de)]))}});export{ce as default};
